(function(a){var b=function(c){var f=null;var e=a("#"+c);var d=a("input[name="+c+"]");if(e.length){f=e}else{if(d!=undefined){f=d}}return f};a.fn.autotab_magic=function(c){for(var d=0;d<this.length;d++){var f=d+1;var e=d-1;if(d>0&&f<this.length){a(this[d]).autotab({target:a(this[f]),previous:a(this[e])})}else{if(d>0){a(this[d]).autotab({previous:a(this[e])})}else{a(this[d]).autotab({target:a(this[f])})}}if(c!=null&&(isNaN(c)&&c==a(this[d]).attr("id"))||(!isNaN(c)&&c==d)){a(this[d]).focus()}}return this};a.fn.autotab_filter=function(c){var e={format:"all",uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof c=="string"||typeof c=="function"){e.format=c}else{a.extend(e,c)}for(var d=0;d<this.length;d++){a(this[d]).bind("keyup",function(g){var h=this.value;switch(e.format){case"text":var f=new RegExp("[0-9]+","g");h=h.replace(f,"");break;case"alpha":var f=new RegExp("[^a-zA-Z]+","g");h=h.replace(f,"");break;case"number":case"numeric":var f=new RegExp("[^0-9]+","g");h=h.replace(f,"");break;case"alphanumeric":var f=new RegExp("[^0-9a-zA-Z]+","g");h=h.replace(f,"");break;case"custom":var f=new RegExp(e.pattern,"g");h=h.replace(f,"");break;case"all":default:if(typeof e.format=="function"){var h=e.format(h)}break}if(e.nospace){var f=new RegExp("[ ]+","g");h=h.replace(f,"")}if(e.uppercase){h=h.toUpperCase()}if(e.lowercase){h=h.toLowerCase()}if(h!=this.value){this.value=h}})}};a.fn.autotab=function(c){var e={format:"all",maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null};a.extend(e,c);if(typeof e.target=="string"){e.target=b(e.target)}if(typeof e.previous=="string"){e.previous=b(e.previous)}var d=a(this).attr("maxlength");if(e.maxlength==2147483647&&d!=2147483647){e.maxlength=d}else{if(e.maxlength>0){a(this).attr("maxlength",e.maxlength)}else{e.target=null}}if(e.format!="all"){a(this).autotab_filter(e)}return a(this).bind("keydown",function(f){if(f.which==8&&this.value.length==0&&e.previous){e.previous.focus().val(e.previous.val())}}).bind("keyup",function(g){var f=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(g.which!=8){var h=a(this).val();if(a.inArray(g.which,f)==-1&&h.length==e.maxlength&&e.target){e.target.focus()}}})}})(jQuery);